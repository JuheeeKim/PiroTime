{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reviews</title>
    <link rel="stylesheet" href="{% static 'css/review/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1 class="main-title">Reviews</h1>

        <!-- 검색바 -->
        <div class="search-bar">
            <input type="text" placeholder="검색어를 입력하세요..." id="search-input">
            <button class="search-btn"><i class="fas fa-search"></i></button>
        </div>

        <!-- 필터 버튼 -->
        <div class="filter-buttons">
            <button class="btn-filter" onclick="sortReviews('recent')">최신순</button>
            <button class="btn-filter" onclick="sortReviews('likes')">좋아요순</button>
        </div>
    
        <!-- 리뷰 카드 그리드 -->
        <div class="review-grid">
            {% for review in reviews %}
            <div class="review-card">
                <div class="review-card-image" style="background-image: url('{% static 'images/sample.jpg' %}');">
                    <!-- 여기에 이미지가 들어갑니다 -->
                </div>
                <div class="review-card-content">
                    <h2><a href="{% url 'review:review_detail' pk=review.pk %}">{{ review.title }}</a></h2>
                    <p class="review-meta">작성자: {{ review.writer }} / 날짜: {{ review.date }}</p>
                    <div class="review-likes">
                        <button class="like-button" onclick="likeReview({{ review.pk }})">
                            <i class="fas fa-heart"></i> {{ review.total_likes }}
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    
        <a href="{% url 'review:review_create' %}" class="btn btn-floating">새로운 리뷰 작성하기</a>
    </div>

    <script>
        function sortReviews(criteria) {
            console.log('필터링 기준:', criteria);
            // 필터링 로직 추가
        }

        function likeReview(reviewId) {
            console.log('좋아요 누름:', reviewId);
            // AJAX 요청을 통해 좋아요를 서버에 반영하는 로직 추가
        }
    </script>
</body>
</html>